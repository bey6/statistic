{% extends "../parent.html" %}
{% block header %}
    <script src="/public/js/result/index.js" defer="defer"></script>
{% endblock %}
{% block content %}
<div style="width: 100%;height: calc(100vh - 90px);overflow: auto">
    <table class="table table-sm table-bordered table-hover table-stick">
        <thead>
            <tr>
                <th scope="col" style="text-align: center">序号</th>
                {% for col in columns %}
                <th scope="col">{{ col.name }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in list %}
            <tr>
                <th scope="col" width="50" style="text-align: center">
                    {{loop.index}}
                </th>
                {% for col in columns %}
                <td>{{row[col.code]}}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<nav aria-label="Page navigation example">
    <ul
        class="pagination pagination-sm justify-content-end"
        style="text-align: center; padding: 0;"
    >
        <li style="padding: 5px 12px 0 0"><span>共 {{ total }} 项</span></li>
        <li class="page-item">
            <a class="page-link" href="{{search_id}}?page={{prevPage}}" tabindex="-1" aria-disabled="true"
                >上一页</a
            >
        </li>
        {% for p in pages %} 
        {% if page === p %}
        <li class="page-item active">
            <span class="page-link">{{ p }}</span>
        </li>
        {% elif p === '···' %}
        <li class="page-item">
            <span class="page-link">{{ p }}</span>
        </li>
        {% else %}
        <li class="page-item">
            <a class="page-link" href="{{search_id}}?page={{p}}">{{ p }}</a>
        </li>
        {% endif %}
        {% endfor %}
        <li class="page-item">
            <a class="page-link" href="{{search_id}}?page={{nextPage}}">下一页</a>
        </li>
        <li style="margin: 0 12px 0 12px;">
            <button class="btn btn-sm btn-dark" id="dowload" onclick="location.href = '/query/excel/{{search_id}}'"><i class="bi bi-download"></i> 下载结果</button>
        </li>
    </ul>
</nav>
{% endblock %}
